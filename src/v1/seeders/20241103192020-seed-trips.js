"use strict";

function getRandomElement(arr) {
   return arr[Math.floor(Math.random() * (arr.length - 1))];
}

module.exports = {
   up: async (queryInterface, Sequelize) => {
      const routes = await queryInterface.sequelize.query(`SELECT route_id FROM routes;`);
      const routeRows = routes[0];
      const vehicles = await queryInterface.sequelize.query(`SELECT vehicle_id FROM vehicles;`);
      const vehicleRows = vehicles[0];

      return queryInterface.bulkInsert(
         "trips",
         [
            {
               trip_arrival_time: new Date(new Date().setHours(10, 0, 0)),
               trip_departure_time: new Date(new Date().setHours(8, 0, 0)),
               trip_date: new Date(),
               trip_price: 100.0,
               trip_discount: 10.0,
               trip_shuttle_enable: 1,
               allow_online_booking: 1,
               trip_holiday: 0,
               route_id: getRandomElement(routeRows).route_id,
               vehicle_id: getRandomElement(vehicleRows).vehicle_id,
               created_at: new Date(),
               updated_at: new Date(),
            },
            {
               trip_arrival_time: new Date(new Date().setHours(15, 0, 0)),
               trip_departure_time: new Date(new Date().setHours(13, 0, 0)),
               trip_date: new Date(),
               trip_price: 150.0,
               trip_discount: 15.0,
               trip_shuttle_enable: 0,
               allow_online_booking: 1,
               trip_holiday: 1,
               route_id: getRandomElement(routeRows).route_id,
               vehicle_id: getRandomElement(vehicleRows).vehicle_id,
               created_at: new Date(),
               updated_at: new Date(),
            },
            {
               trip_arrival_time: new Date(new Date().setHours(20, 0, 0)),
               trip_departure_time: new Date(new Date().setHours(18, 0, 0)),
               trip_date: new Date(),
               trip_price: 200.0,
               trip_discount: 20.0,
               trip_shuttle_enable: 1,
               allow_online_booking: 0,
               trip_holiday: 0,
               route_id: getRandomElement(routeRows).route_id,
               vehicle_id: getRandomElement(vehicleRows).vehicle_id,
               created_at: new Date(),
               updated_at: new Date(),
            },
            {
               trip_arrival_time: new Date(new Date().setHours(12, 0, 0)),
               trip_departure_time: new Date(new Date().setHours(10, 0, 0)),
               trip_date: new Date(),
               trip_price: 120.0,
               trip_discount: 12.0,
               trip_shuttle_enable: 0,
               allow_online_booking: 1,
               trip_holiday: 1,
               route_id: getRandomElement(routeRows).route_id,
               vehicle_id: getRandomElement(vehicleRows).vehicle_id,
               created_at: new Date(),
               updated_at: new Date(),
            },
            {
               trip_arrival_time: new Date(new Date().setHours(17, 0, 0)),
               trip_departure_time: new Date(new Date().setHours(15, 0, 0)),
               trip_date: new Date(),
               trip_price: 180.0,
               trip_discount: 18.0,
               trip_shuttle_enable: 1,
               allow_online_booking: 0,
               trip_holiday: 0,
               route_id: getRandomElement(routeRows).route_id,
               vehicle_id: getRandomElement(vehicleRows).vehicle_id,
               created_at: new Date(),
               updated_at: new Date(),
            },
            {
               trip_arrival_time: new Date(new Date().setHours(22, 0, 0)),
               trip_departure_time: new Date(new Date().setHours(20, 0, 0)),
               trip_date: new Date(),
               trip_price: 220.0,
               trip_discount: 22.0,
               trip_shuttle_enable: 0,
               allow_online_booking: 1,
               trip_holiday: 1,
               route_id: getRandomElement(routeRows).route_id,
               vehicle_id: getRandomElement(vehicleRows).vehicle_id,
               created_at: new Date(),
               updated_at: new Date(),
            },
            {
               trip_arrival_time: new Date(new Date().setHours(9, 0, 0)),
               trip_departure_time: new Date(new Date().setHours(7, 0, 0)),
               trip_date: new Date(),
               trip_price: 90.0,
               trip_discount: 9.0,
               trip_shuttle_enable: 1,
               allow_online_booking: 0,
               trip_holiday: 0,
               route_id: getRandomElement(routeRows).route_id,
               vehicle_id: getRandomElement(vehicleRows).vehicle_id,
               created_at: new Date(),
               updated_at: new Date(),
            },
            {
               trip_arrival_time: new Date(new Date().setHours(14, 0, 0)),
               trip_departure_time: new Date(new Date().setHours(12, 0, 0)),
               trip_date: new Date(),
               trip_price: 140.0,
               trip_discount: 14.0,
               trip_shuttle_enable: 0,
               allow_online_booking: 1,
               trip_holiday: 1,
               route_id: getRandomElement(routeRows).route_id,
               vehicle_id: getRandomElement(vehicleRows).vehicle_id,
               created_at: new Date(),
               updated_at: new Date(),
            },
            {
               trip_arrival_time: new Date(new Date().setHours(19, 0, 0)),
               trip_departure_time: new Date(new Date().setHours(17, 0, 0)),
               trip_date: new Date(),
               trip_price: 190.0,
               trip_discount: 19.0,
               trip_shuttle_enable: 1,
               allow_online_booking: 0,
               trip_holiday: 0,
               route_id: getRandomElement(routeRows).route_id,
               vehicle_id: getRandomElement(vehicleRows).vehicle_id,
               created_at: new Date(),
               updated_at: new Date(),
            },
            {
               trip_arrival_time: new Date(new Date().setHours(23, 0, 0)),
               trip_departure_time: new Date(new Date().setHours(21, 0, 0)),
               trip_date: new Date(),
               trip_price: 230.0,
               trip_discount: 23.0,
               trip_shuttle_enable: 0,
               allow_online_booking: 1,
               trip_holiday: 1,
               route_id: getRandomElement(routeRows).route_id,
               vehicle_id: getRandomElement(vehicleRows).vehicle_id,
               created_at: new Date(),
               updated_at: new Date(),
            },
         ],
         {}
      );
   },

   down: async (queryInterface, Sequelize) => {
      return queryInterface.bulkDelete("trips", null, {});
   },
};
